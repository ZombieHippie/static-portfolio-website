extend ../project.extend

//-projects = require("../../projects.cson")
//-category = require("./folder.json")

block head-title
  title Cole Lawrence - Foxtrot HTML5 Game
  link(href="../css/code.css" rel="stylesheet")
  link(href="../lib/codemirror-5.0/codemirror.css" rel="stylesheet")

//-code = require("post-code.cson")

block post-body
  h2 Foxtrot HTML5 Game
  center: img(src=prefix + "images/foxtrot/foxtrot-screenshot.jpg" title="In-game screenshot of fox jumping off to the right.")
  p This game is built with CoffeeScript to resemble another popular game known as Doodle-jump.
  p This was my first experience using class-like data structures in "JavaScript".
  .snippet
    center: strong: a(href="https://github.com/ZombieHippie/TheFoxtrot/blob/ce53b71e70e07ab12a0767a835b1d493996fba42/foxtrot.coffee#L332-338") foxtrot.coffee@ce53b#L332-338
    pre.code.cm-s-default(data-type="text/javascript")=code.foxtrot
  p
    center: strong: a(href="http://github.com/ZombieHippie/TheFoxtrot" title="ZombieHippie/Foxtrot") Source Code
    center: strong: a(href="http://zombiehippie.github.io/TheFoxtrot/" title="Play Foxtrot game in this browser" ) Open the foxtrot game

block footer
  script(src=prefix + "lib/codemirror-5.0/codemirror-runmode-standalone-compressed.js")
  script(src=prefix + "lib/codemirror-5.0/codemirror-modes-compressed.js")
  script.
    var handleEachCodeBlock = function (element) {
      var code = element.innerText
      element.innerHTML = ""
      CodeMirror.runMode(code, element.dataset.type, element)
    }
    var codeBlocks = document.querySelectorAll("pre.code")
    for (var i = 0; i < codeBlocks.length; i++)
      handleEachCodeBlock(codeBlocks[i])